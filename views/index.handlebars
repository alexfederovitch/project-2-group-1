<div id="home">
  <div class="container">
    <div class="row">
      <div class="col-8 offset-2">
        <h1>{{msg}}</h1>
        <h2>This is our Home Page!</h2>


<form id="signUpSignIn" class="align-middle">
     
        <button type="submit" class="btn btn-primary" id="signUpBtn">Sign Up</button>
        <button type="submit" class="btn btn-primary" id="signInBtn">Sign In</button>
      
</form>


<br>
<br>
        <form class="clearfix mb-4 exampleItem" action="POST">
          <div class="form-group ">
            <label for="example-text">Example Text</label>
            <input type="text" id="example-text" class="form-control" aria-describedby="example-text" placeholder="Enter Example Text">
          </div>
          <div class="form-group">
            <label for="example-description">Example Description</label>
            <textarea class="form-control" id="example-description" aria-describedby="example-description" placeholder="Enter Example Description"></textarea>
          </div>
          <button id="submit" class="btn btn-primary float-right">Submit</button>
        </form>

        <form class="form-signin">
        <h2 class="form-signin-heading">Sign Up!</h2>

        <label for="firstName" class="sr-only">First Name</label>
        <input id="firstName" class="form-control" placeholder="First Name" required="" autofocus="" type="input">

        <label for="lastName" class="sr-only">Last Name</label>
        <input id="lastName" class="form-control" placeholder="Last Name" required="" autofocus="" type="input">
        
        <label for="inputEmail" class="sr-only">Email address</label>
        <input id="inputEmail" class="form-control" placeholder="Email address" required="" autofocus="" type="email">
        
        <label for="inputUsername" class="sr-only">Username</label>
        <input id="inputUsername" class="form-control" placeholder="Username" required="" autofocus="" type="input">
        
        <label for="inputPw1" class="sr-only">Password</label>
        <input id="inputPw1" class="form-control" placeholder="Password" required="" type="password">

        <label for="inputPw2" class="sr-only">Verify Password</label>
        <input id="inputPw2" class="form-control" placeholder="Verify Password" required="" type="password">
        
        <label for="inputWeight" class="sr-only">Current Weight (lbs)</label>
        <input id="inputWeight" class="form-control" placeholder="Current Weight (lbs)" required="" autofocus="" type="input">
        
        <div class="radioGoal">
          <br>
          <label class="radio-inline"><input type="radio" name="goalOption" value="1" checked>Bulk Up</label>
          <label class="radio-inline"><input type="radio" name="goalOption" value="0">Slim Down</label>
        </div>

        <button class="btn btn-lg btn-primary btn-block" id="submitSignUp" type="submit">Submit</button>
      </form>

        <br>
        <br>
        <h3>Examples:</h3>
        <ul id="example-list" class="list-group">
          {{#each examples}}
          <li data-id="{{this.id}}" class="list-group-item">
            <a href="example/{{this.id}}">{{this.text}}</a>
            <button class="btn btn-danger float-right delete">ï½˜</button>
          </li>
          {{/each}}
        </ul>

      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="/js/index.js"></script>

<script>

  /////////////////////////////////////////////////////////
  //All function placed in an on-load

$(function() {

  console.log("ready!");

  //Hiding items with class: 'exampleForm' 
  $(".exampleItem").hide();
  $(".form-signin").hide();

  //Onclick for the Sign Up Button
  $("#signUpBtn").on("click", function(event){
    event.preventDefault();
    console.log("kgadfiuvwechuwgev")
    $("#signInBtn").hide();
    $(".form-signin").show();  
  })

 //Onclick for the Submit Button for th Sign Up
  $("#submitSignUp").on("click", function(event){
    event.preventDefault();
    //Grab the email and password values
    let firstName =  $("#firstName").val().trim();
    let lastName =  $("#lastName").val().trim();
    let email =  $("#inputEmail").val().trim();
    let username = $("#inputUsername").val().trim();
    let pw1 = $("#inputPw1").val().trim();
    let pw2 = $("#inputPw2").val().trim();
    let currentWeight = $("#inputWeight").val().trim();
    let goal = $("input[name='goalOption']:checked").val()

    console.log(email, username, pw1, pw2, currentWeight, goal)

    const newUserVals = {
      firstName: firstName,
      lastName: lastName,
      email: email,
      username: username,
      password: pw1,
      password2: pw2,
      currentWeight: currentWeight,
      goal: goal
    }

    /////////////\\\\\\\\\\\\\\\
//VALIDATE that pw1 = pw2 BEFORE sending the POST req!!!!!!
  ///////////////\\\\\\\\\\\\\\\

    // This POST request is sent to the API Routes.JS
    $.ajax("/api/newUser", {
      type: "POST",
      data: newUserVals 
    }).then(
      function(result) {

        if(result.isworking){ 
          // Reload the page to get the updated list
          location.reload() 
          }else{
            alert("username already taken")
          }
       

       
      
    
      }
    );
  })


})
</script>
